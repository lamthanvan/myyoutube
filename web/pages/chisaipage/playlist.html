<div ng-controller="playlistCtrl" ng-init="init()">
    <div class="pll-switch-tab">
        <nav class="nav nav-tabs" id="playlistTab" role="tablist">
            <a class="nav-item nav-link" ng-class="{'active': tabName ==='playlist'}" ng-click="switchTab('playlist')">
                Playlist
            </a>
            <a class="nav-item nav-link" ng-class="{'active': tabName ==='new-playlist'}" ng-click="switchTab('new-playlist')">
                New playlist
            </a>
        </nav>
    </div>
    <div class="col-md-12" ng-switch="tabName">
        <div class="col-md-12 " ng-switch-when="playlist">
            <div class="row col-md-12 mt-3">
                <nav class="col-md-12">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" ng-class="{'disabled': currentPage<=1}">
                            <a class="page-link" href="" ng-click="prev()" ng-model="currentPage">
                                Previous
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage<=1}">
                            <a class="page-link" href="" ng-click="pagination('minus')">
                                {{currentPage}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage}">
                            <a class="page-link" href="" ng-click="pagination('c')">
                                {{currentPage+1}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage-1}">
                            <a class="page-link" href="" ng-click="pagination('plus')">
                                {{currentPage+2}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage-1}">
                            <a class="page-link" href="" ng-click="next()" ng-model="currentPage">
                                Next
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- {{totalPage}} -->
            </div>
            <div class="col-md-4 col-lg-4 pr-3 pl-3 pt-3 pb-3 float-left" name="video-block" ng-repeat="playlist in playlists ">
                <div class="thumbnail text-white bg-dark mb-3">
                    <div class="card-header">
                        <span class="sub-no">
                            no.
                        </span>
                        {{playlist.id}}
                    </div>
                    <div class="playlist-body p-3">
                        <img alt="..." class="img-thumbnail" src="{{playlist.attributes.thumbnailUrl}}">
                            <h5 class="card-title">
                                {{playlist.attributes.name}}
                            </h5>
                            <p class="card-text">
                                {{playlist.attributes.description}}
                            </p>
                        </img>
                    </div>
                </div>
            </div>
            <div class="row col-md-12 mt-3">
                <nav class="col-md-12">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" ng-class="{'disabled': currentPage<=1}">
                            <a class="page-link" href="" ng-click="prev()" ng-model="currentPage">
                                Previous
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage<=1}">
                            <a class="page-link" href="" ng-click="pagination('minus')">
                                {{currentPage}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage}">
                            <a class="page-link" href="" ng-click="pagination('c')">
                                {{currentPage+1}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage-1}">
                            <a class="page-link" href="" ng-click="pagination('plus')">
                                {{currentPage+2}}
                            </a>
                        </li>
                        <li class="page-item" ng-class="{'disabled': currentPage>=totalPage-1}">
                            <a class="page-link" href="" ng-click="next()" ng-model="currentPage">
                                Next
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- {{totalPage}} -->
            </div>
        </div>
        <div ng-switch-when="new-playlist">
            <div class="row pt-3 col-md-12 col-lg-12">
                <div class="col-md-1">
                </div>
                <div class="col-md-10">
                    <div class="alert alert-success" id="alert-success" style="display: none">
                    </div>
                    <div class="alert alert-danger" id="alert-error" style="display: none">
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-body" ng-controller="playlistCtrl">
                            <form class="form-horizontal" name="register-form">
                                <div class="form-group">
                                    <label class="control-label col-md-3">
                                        Name
                                    </label>
                                    <div class="col-md-8">
                                        <input class="form-control" name="name" ng-model="dataToSend.data.attributes.name" placeholder="Playlist name." type="text">
                                        </input>
                                        <!-- {{dataToSend.data.attributes.name}} -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">
                                        Description
                                    </label>
                                    <div class="col-md-8">
                                        <textarea class="form-control" name="Description" ng-model="dataToSend.data.attributes.description" placeholder="Playlist description">
                                        </textarea>
                                        <!--  {{dataToSend.data.attributes.description}} -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">
                                        Thumbnail
                                    </label>
                                    <div class="col-md-8">
                                        <input class="form-control" name="thumbnailUrl" ng-model="dataToSend.data.attributes.thumbnailUrl" placeholder="Thumbnail url." type="text">
                                        </input>
                                    </div>
                                    <!-- {{dataToSend.data.attributes.thumbnailUrl}} -->
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">
                                    </label>
                                    <div class="col-md-8">
                                        <button class="btn btn-primary" id="btnSubmit" ng-click="doSubmit()" type="button">
                                            Submit
                                        </button>
                                        <button class="btn btn-default" type="reset">
                                            Reset
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    if (typeof(Storage) !== "undefined") {
            $scope.tokenKey = localStorage.getItem("tokenKey");
            if ($scope.tokenKey === null) {
                alert('Bạn cần đăng nhập để thực hiện thao tác này');
                $window.location.href = 'index.html'
            }
        } else {
            alert("Sorry, your browser does not support Web Storage...");
        }
</script>